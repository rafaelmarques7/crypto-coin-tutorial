# Cypto Coin tutorial

In this repo, I will create a blockchain that allows us to simulate a cryptocurrency. The goal of this is simply to learn more about these technologies.

---

## Basics of blockchain based currency

So, how does a cryptocurrency based on blockchain work?
* There are `Transactions`, which describe the transfer of funds from one person to another.
    * transactions require a `payer`, a `payee`, and an `ammount`
    * payers and payee are identified by their public keys (refer to Notes to find out more about this)
* There are `Blocks`, which contain:
    * a list of transactions (although in this example we may use just one transaction per block to simplify things)
    * an identifier of the `previousHash` - this links alls blocks, forming a blockchain
    * a `date`
    * a `nonce` - a random number (see notes)
* There is one `Chain`:
    * there is one and only one chain
    * the chain contains a list of (transaction) `Blocks`
    * you can only add to the chain, you can never remove from it
* a `Wallet`, which:
    * is tied to one user
    * has a `private key`, which should be kept private, and is used to sign transactions
    * has a `public key`, which is public and anyone can use to verify the signature of a transaction
    * ?? has a particular `balance`

---

## Notes

### Signing transactions:

* each wallet (user) in a blockchain has two keys, a public key and a private key.
    * a private key must be kept private by the owner of it.
    * the public key can be made public to anyone.
* the private key is used to sign a transaction. 
    ```typescript
    generateSignature(transaction, privateKey) => signature
    ```
* anyone can look at a particular transaction - which has a particular signature - and use any public key to verify if that signature was generated by the owner of that public key. 
    ```ts
    validateSignature(signature, publicKey) => boolean
    ```
    * What we have is a function, let's name it `validateSignature`, that takes two arguments `(signature, publicKey)` and returns a boolean (true/false)
    * it will return true if the signature was generated by the private key associated with that public key, and false otherwise

---

### Mining

* When someone tries to add a block to the blockchain, they usually have to undergo a process called mining.
* Usually, the entire networks competes in this process, and the first to mine the block successfully is awarded a reward.

But,
* Why is mining used?  
    * Mining is used to slow down the number of blocks that can be added at any given time. (Bitcoin for examples only allows one block to be added every 10 minutes)
    * This allows for the majority of the network to validate the blocks.
    * If this was not the case, a malicious attacker could quickly create a large number of malformed blocks, allowing them to double spend.
* How does mining work?
    * There are several mining algorithms out there.
    * Bitcoin uses one called Proof of Work (this is the one we implement here)
    * Etherem uses one called Proof of Stake (out of scope for this project)
* How does proof of work... work?
    * Hashing algorithms take an input of an arbitrary size and transform it into an output of a fixed length
    * For example, the SHA256 hashing algorithm produces an output of 256 bits (one's and zero's)
    * Proof of work is an algorithm in which:
        * you take an input (usually the block header)
        * you add a random number to it (called `nonce`)
        * you compute the hash of it (hash(input + nonce))
        * you verify if the hash contains a number of leading zeros (for example, 8 zeros)
        * if it does, great, you successfully mined the block! You found the nonce that, when added to the input, creates a hash that passes the mining condition!
        * if it does not, you try again.

---

## Resources

* proof of work: https://levelup.gitconnected.com/bitcoin-proof-of-work-the-only-article-you-will-ever-have-to-read-4a1fcd76a294
* BigInt in javascript: https://stackoverflow.com/questions/12532871/how-to-convert-a-very-large-hex-number-to-decimal-in-javascript
* sample project - https://www.youtube.com/watch?v=qF7dkrce-mQ&ab_channel=Fireship